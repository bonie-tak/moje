<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Maszyna Kasyno</title>
  <link rel="stylesheet" href="kasyno.css">
</head>
<body>

  <h1>🎰 Jednoręki Bandyta</h1>
  <div class="coins">Monety: <span id="coins">10</span></div>

  <div class="slot-machine">
    <div id="reel1" class="reel">❓</div>
    <div id="reel2" class="reel">❓</div>
    <div id="reel3" class="reel">❓</div>
  </div>

  <button onclick="spin()">Zakręć (-1 moneta)</button>
  <div id="result" class="result"></div>

  <audio id="slot-sound" src="sounds/slot.mp3" preload="auto"></audio>

  <script>
    const symbols = ["🍒", "🍋", "🍇", "💎", "🔔", "⭐"];
    let coins = 10;

    function getRandomSymbol() {
      return symbols[Math.floor(Math.random() * symbols.length)];
    }

    function updateCoins(amount) {
      coins += amount;
      document.getElementById("coins").textContent = coins;
    }

    function spin() {
      if (coins <= 0) {
        alert("Brak monet! Odśwież stronę, by zacząć od nowa.");
        return;
      }

      updateCoins(-1); // koszt gry

      const reel1 = document.getElementById("reel1");
      const reel2 = document.getElementById("reel2");
      const reel3 = document.getElementById("reel3");
      const result = document.getElementById("result");
      const sound = document.getElementById("slot-sound");

      result.textContent = "";

      sound.currentTime = 0;
      sound.play();

      let i = 0;
      const interval = setInterval(() => {
        reel1.textContent = getRandomSymbol();
        reel2.textContent = getRandomSymbol();
        reel3.textContent = getRandomSymbol();
        i++;
        if (i > 15) {
          clearInterval(interval);

          const s1 = getRandomSymbol();
          const s2 = getRandomSymbol();
          const s3 = getRandomSymbol();

          reel1.textContent = s1;
          reel2.textContent = s2;
          reel3.textContent = s3;

          if (s1 === s2 && s2 === s3) {
            result.textContent = "🎉 WYGRAŁEŚ +5 monet!";
            result.style.color = "lime";
            updateCoins(5);
          } else {
            result.textContent = "😞 Spróbuj ponownie";
            result.style.color = "red";
          }
        }
      }, 60);
    }
  </script>

</body>
</html>
